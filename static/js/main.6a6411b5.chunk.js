(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(module,exports,__webpack_require__){var factory;window,factory=function(__WEBPACK_EXTERNAL_MODULE_react__){return function(e){var n={};function r(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=e,r.c=n,r.d=function(e,n,a){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)r.d(a,t,function(n){return e[n]}.bind(null,t));return a},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s="./src/index.js")}({"./src/index.js":function srcIndexJs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _useUrlSearchParams__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useUrlSearchParams */ "./src/useUrlSearchParams.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useUrlSearchParams", function() { return _useUrlSearchParams__WEBPACK_IMPORTED_MODULE_0__["useUrlSearchParams"]; });\n\n\n\n\n//# sourceURL=webpack://useUrlSearchParams/./src/index.js?')},"./src/useUrlSearchParams.js":function srcUseUrlSearchParamsJs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useUrlSearchParams", function() { return useUrlSearchParams; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst SUPPORTED_PARAMS_TYPES = [Number, String, Boolean];\n\nfunction setQueryToCurrentUrl(params) {\n  const url = new URL(window.location.href);\n\n  Object.keys(params).forEach(key => {\n    const value = params[key];\n    if (value !== null && value !== undefined) {\n      if (Array.isArray(value)) {\n        url.searchParams.delete(key);\n        value.forEach(valueItem => {\n          url.searchParams.append(key, valueItem);\n        });\n      } else if (typeof value === "object") {\n        url.searchParams.set(key, JSON.stringify(value));\n      } else {\n        url.searchParams.set(key, value);\n      }\n    } else {\n      url.searchParams.delete(key);\n    }\n  });\n  return url;\n}\n\nfunction isNoneEmptyPrimitiveArray(input) {\n  return (\n    Array.isArray(input) &&\n    input.length > 0 &&\n    input.every(\n      item =>\n        typeof item === "number" ||\n        typeof item === "string" ||\n        typeof item === "boolean"\n    )\n  );\n}\n\nfunction validateTypes(types = {}) {\n  const isValidTypes = Object.values(types).every(\n    type =>\n      SUPPORTED_PARAMS_TYPES.includes(type) ||\n      isNoneEmptyPrimitiveArray(type) ||\n      typeof type === "function"\n  );\n\n  if (!isValidTypes) {\n    throw new Error(\n      `Unsupported param types. Must be one of [${SUPPORTED_PARAMS_TYPES.map(\n        item => item.name\n      ).join(", ")}]`\n    );\n  }\n}\n\n/**\n *\n * @param {object} initial\n * @param {object} types\n */\nfunction useUrlSearchParams(initial = {}, types) {\n  if (types) validateTypes(types);\n\n  const [forceUpdateSwitch, forceUpdate] = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState();\n\n  const urlSearchParams = react__WEBPACK_IMPORTED_MODULE_0___default.a.useMemo(() => {\n    return new URLSearchParams(window.location.search);\n  }, [window.location.search]);\n\n  const params = react__WEBPACK_IMPORTED_MODULE_0___default.a.useMemo(() => {\n    let result = [];\n    for (let item of urlSearchParams) {\n      result.push({\n        key: item[0],\n        value: item[1]\n      });\n    }\n\n    //group by key\n    result = result.reduce((acc, val) => {\n      (acc[val.key] = acc[val.key] || []).push(val);\n      return acc;\n    }, {});\n\n    result = Object.keys(result).map(key => {\n      const valueGroup = result[key];\n      if (valueGroup.length === 1) {\n        return [key, valueGroup[0].value];\n      } else {\n        return [key, valueGroup.map(({ value }) => value)];\n      }\n    });\n\n    const params = {};\n\n    result.forEach(([key, value]) => {\n      params[key] = parseValue(key, value, types, initial);\n    });\n\n    return params;\n  }, [urlSearchParams]);\n\n  function redirectToNewSearchParams(params) {\n    const url = setQueryToCurrentUrl(params);\n    window.history.pushState({}, "", url);\n\n    if (urlSearchParams.toString() !== url.searchParams.toString()) {\n      forceUpdate(!forceUpdateSwitch);\n    }\n  }\n\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(() => {\n    redirectToNewSearchParams({\n      ...initial,\n      ...params\n    });\n  }, []);\n\n  const setParams = params => {\n    redirectToNewSearchParams(params);\n  };\n\n  return [params, setParams];\n}\n\nfunction parseValue(key, value, types, defaultParams) {\n  if (!types) return value;\n  const type = types[key];\n\n  if (type === Number) {\n    return value === undefined ? Number(defaultParams[key]) : Number(value);\n  }\n  if (type === Boolean) {\n    return value === undefined\n      ? getBooleanValue(defaultParams[key])\n      : getBooleanValue(value);\n  }\n  if (Array.isArray(type)) {\n    const defaultValue = defaultParams[key];\n    if (value === undefined) {\n      // eslint-disable-next-line eqeqeq\n      return type.find(item => item == defaultValue);\n    } else {\n      // eslint-disable-next-line eqeqeq\n      return type.find(item => item == value);\n    }\n  }\n  if (typeof type === "function") {\n    return type(value);\n  }\n  return value;\n}\n\nfunction getBooleanValue(value) {\n  if (value === "true") return true;\n  if (value === "false") return false;\n  return undefined;\n}\n\n\n//# sourceURL=webpack://useUrlSearchParams/./src/useUrlSearchParams.js?')},react:function react(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n//# sourceURL=webpack://useUrlSearchParams/external_%7B%22commonjs%22:%22react%22,%22commonjs2%22:%22react%22%7D?")}})},module.exports=factory(__webpack_require__(0))},,,,function(e,n,r){e.exports=r(13)},,,,,,function(e,n,r){},function(e,n,r){},function(e,n,r){"use strict";r.r(n);var a=r(0),t=r.n(a),u=r(3),o=r.n(u),c=(r(11),r(4)),s=(r(12),r(1));console.log("useUrlSearchParams",s.useUrlSearchParams);var l=function(){var e={selectedOption:["option1","option2","option3"],checked:Boolean,obj:function(e){try{return JSON.parse(e)}catch(n){return{}}}},n=Object(s.useUrlSearchParams)({checked:!0},e),r=Object(c.a)(n,2),a=r[0],u=r[1];return t.a.createElement("div",{className:"App"},t.a.createElement("button",{onClick:function(){return u({obj:JSON.stringify({x:{y:{z:1}}})})}},"Set a JSON object to URL query"),t.a.createElement("button",{onClick:function(){return u({arr:[1,2,3]})}},"Set an array to URL query"),t.a.createElement("select",{value:a.selectedOption,onChange:function(e){return u({selectedOption:e.target.value})}},t.a.createElement("option",null),t.a.createElement("option",{value:"option1"},"option 1"),t.a.createElement("option",{value:"option2"},"option 2"),t.a.createElement("option",{value:"option3"},"option 3")),t.a.createElement("label",null,t.a.createElement("input",{type:"checkbox",checked:!0===a.checked,onChange:function(e){return u({checked:e.target.checked})}})," ","Check me!"),t.a.createElement("div",{style:{textAlign:"left"}},"Queries:",t.a.createElement("pre",null,t.a.createElement("code",null,JSON.stringify(a,null,2)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(t.a.createElement(l,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[5,1,2]]]);
//# sourceMappingURL=main.6a6411b5.chunk.js.map